{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="dashboard-container">
    <div class="dashboard-header">
        <div>
            <h1>Student Dashboard</h1>
            <p>Welcome back, {{ profile.get_display_name }}!</p>
        </div>
        <div class="profile-quick-view">
            <img src="{{ profile.get_profile_picture_url }}" alt="{{ user.username }}" class="header-avatar">
        </div>
    </div>
    
    <!-- Profile Completion Banner -->
    {% if profile_completion < 100 %}
    <div class="completion-banner">
        <div class="completion-info">
            <h3>Complete Your Profile</h3>
            <p>Your profile is {{ profile_completion }}% complete. Add more information to help others know you better!</p>
        </div>
        <div class="completion-progress">
            <div class="progress-bar">
                <div class="progress-fill" style="width: {{ profile_completion }}%"></div>
            </div>
            <span class="progress-text">{{ profile_completion }}%</span>
        </div>
        <a href="{% url 'edit_profile' %}" class="btn-complete">Complete Profile</a>
    </div>
    {% endif %}
    
    <div class="dashboard-grid">
        <!-- Quick Stats -->
        <div class="stat-card">
            <div class="stat-icon" style="background: #1877f2;">
                <span class="icon icon-xl"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg></span>
            </div>
            <div class="stat-info">
                <h3>Available Meetings</h3>
                <p class="stat-number">{{ available_meetings }}</p>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon" style="background: #31a24c;">
                <span class="icon icon-xl"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg></span>
            </div>
            <div class="stat-info">
                <h3>Attended</h3>
                <p class="stat-number">{{ attended_meetings }}</p>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon" style="background: #8b5cf6;">
                <span class="icon icon-xl"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg></span>
            </div>
            <div class="stat-info">
                <h3>Courses</h3>
                <p class="stat-number">-</p>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon" style="background: #f59e0b;">
                <span class="icon icon-xl"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line></svg></span>
            </div>
            <div class="stat-info">
                <h3>Assignments</h3>
                <p class="stat-number">-</p>
            </div>
        </div>
    </div>
    
    <!-- Quick Actions -->
    <div class="quick-actions">
        <h2>Quick Actions</h2>
        <div class="action-buttons">
            <a href="{% url 'student_meetings' %}" class="action-btn" style="text-decoration: none;">
                <span class="icon icon-xl"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect></svg></span>
                <p>Join Meeting</p>
            </a>
            <a href="{% url 'profile_view' user.username %}" class="action-btn" style="text-decoration: none;">
                <span class="icon icon-xl"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg></span>
                <p>My Profile</p>
            </a>
        </div>
    </div>
</div>
{% endblock %}
